<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxy Product Graph</title>
    <script src="https://unpkg.com/force-graph"></script>
    <style>
        body { margin: 0; background-color: #050505; color: #fff; overflow: hidden; font-family: sans-serif; }
        #graph { width: 100vw; height: 100vh; }
        .controls { position: absolute; top: 20px; left: 20px; z-index: 10; pointer-events: none; }
        h1 { margin: 0; font-size: 1.5rem; letter-spacing: 2px; text-transform: uppercase; color: #00d4ff; }
    </style>
</head>
<body>

    <div class="controls">
        <h1>Galaxy Nexus</h1>
        <p style="font-size: 0.8rem; opacity: 0.7;">Scrollen zum Zoomen | Ziehen zum Bewegen</p>
    </div>

    <div id="graph"></div>

    <script>
        // Beispiel-Daten: "Zentral-Produkte" und deren "Satelliten-Produkte"
        const data = {
            nodes: [
                { id: 'Kern', group: 'center', size: 10, color: '#ffcc00' },
                { id: 'Laptop Pro', group: 'p1', size: 6, color: '#00d4ff' },
                { id: 'Mouse MX', group: 'p1', size: 3, color: '#00d4ff' },
                { id: 'Keyboard K', group: 'p1', size: 3, color: '#00d4ff' },
                { id: 'Smartphone X', group: 'p2', size: 6, color: '#ff0077' },
                { id: 'Earbuds Z', group: 'p2', size: 3, color: '#ff0077' },
                { id: 'Watch V', group: 'p2', size: 3, color: '#ff0077' }
            ],
            links: [
                { source: 'Kern', target: 'Laptop Pro' },
                { source: 'Kern', target: 'Smartphone X' },
                { source: 'Laptop Pro', target: 'Mouse MX' },
                { source: 'Laptop Pro', target: 'Keyboard K' },
                { source: 'Smartphone X', target: 'Earbuds Z' },
                { source: 'Smartphone X', target: 'Watch V' }
            ]
        };

        const Graph = ForceGraph()
            (document.getElementById('graph'))
            .graphData(data)
            .nodeId('id')
            .nodeVal('size')
            .nodeLabel('id')
            .nodeAutoColorBy('group')
            .linkDirectionalParticles(2) // Fließende Lichtpunkte auf den Linien
            .linkDirectionalParticleSpeed(0.005)
            .backgroundColor('#050505')
            .linkColor(() => '#333')
            .onNodeDragEnd(node => {
                node.fx = node.x;
                node.fy = node.y;
            })
            // Styling der Knoten (Atom/Planeten-Look)
            .nodeCanvasObject((node, ctx, globalScale) => {
                const label = node.id;
                const fontSize = 12/globalScale;
                ctx.font = `${fontSize}px Sans-Serif`;
                
                // Glow Effekt
                ctx.shadowBlur = 15;
                ctx.shadowColor = node.color;
                
                // Zeichne den Knoten
                ctx.beginPath();
                ctx.arc(node.x, node.y, node.size, 0, 2 * Math.PI, false);
                ctx.fillStyle = node.color;
                ctx.fill();
                
                // Text unter dem Knoten
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#fff';
                ctx.fillText(label, node.x, node.y + node.size + 5);
            });

        // Simulations-Parameter für das "Kreisen" / Abstoßung
        Graph.d3Force('charge').strength(-150);
        Graph.d3Force('link').distance(80);

    </script>
</body>
</html>
